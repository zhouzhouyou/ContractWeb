<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta content="width=device-width, initial-scale=1" name="viewport">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/my-form.css" rel="stylesheet">
		<link href="css/gijgo.min.css" rel="stylesheet">
		<style type="text/css">
			.clearfix:before, .clearfix:after{
				content: "";
				display: table;
			}
			.clearfix:after{
				clear: both;
			}
			.clearfix{
				zoom: 1;
			}
		</style>
		<script src="js/jquery-3.4.1.min.js" type="text/javascript"></script>
		<script src="js/js.cookie-2.2.1.min.js" type="text/javascript"></script>
		<script src="js/bootstrap.bundle.min.js" type="text/javascript"></script>
		<script src="js/common.js" type="text/javascript"></script>
		<script src="js/gijgo.min.js" type="text/javascript"></script>
		<script src="js/messages.zh-cn.min.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="header"></div>
		<div>
			<span class="clearfix show" style="margin: 20px;">
				<input autofocus class="form-control" id="name" type="text" style="float: left; width: 20%; margin-left: 20px;"required placeholder="查询合同" style="display: inline; width: 20%;">
				<button type="button" class="btn btn-primary" style="float: left; margin-left: 20px;">查询</button>
			</span>
			<div class="text-center" style="margin-top: 50px;">
				<table class="table table-hover" style="width: 80%; margin-top: 20px;" align="center" id="show_table">
					<thead>
					<tr>
						<th scope="col">合同名称</th>
						<th scope="col">起草时间</th>
						<th scope="col">结束时间</th>
						<th scope="col">确定</th>
					</tr>
					</thead>
					<tbody id="customerBody">
						<tr>
							<td scope="col">dsadsa1</td>
							<td scope="col">2019-2-2</td>
							<td scope="col">2019-12-10</td>
						</tr>
						<tr>
							<td scope="col">dsadsa2</td>
							<td scope="col">2019-2-3</td>
							<td scope="col">2019-12-10</td>
						</tr>
						<tr>
							<td scope="col">dsadsa3</td>
							<td scope="col">2019-2-4</td>
							<td scope="col">2019-12-10</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
			<div class="modal fade bd-example-modal-xl" id="customerModal" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="staticBackdropLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-scrollable modal-xl" role="document">
					<div class="modal-content">
						<div class="modal-header" style="padding: 0px; font-size: 16px;">
							<h4 class="modal-title" id="show_name">
								
							</h4>
						</div>
						<div class="modal-content">
							<div class="modal-body" style="padding: 0px;" id="textarea_card_con">
								<div>
									<form style="margin: 5px 5px;">
										<div class="form-group row" style="margin: 0px; margin-bottom: 3px;">
											<label class="col-sm-2 col-form-label" for="contract_name" style="display: inline; padding: 0px;">合同名称</label>
											<div class="col-sm-9" style="padding: 0px;">
												<input class="form-control disabled" id="contract_name" placeholder="name" disabled="disabled"/>
											</div>
										</div>
										<div class="form-group row" style="margin: 0px; margin-bottom: 3px;">
											<label class="col-sm-2 col-form-label" for="contract_name" style="display: inline; padding: 0px;">客户名称</label>
											<div class="col-sm-9" style="padding: 0px;">
												<input class="form-control disabled" id="contract_name" placeholder="name" disabled="disabled"/>
											</div>
										</div>
										<div class="form-group row" style="margin: 0px; margin-bottom: 3px;">
										    <label class="col-sm-2 col-form-label" for="beginTime" style="display: inline; padding: 0px;">开始时间</label>
										    <div class="col-sm-9" style="padding: 0px;">
										        <input id="beginTime" width="276"/>
										        <div class="invalid-feedback"><small>请选择！</small></div>
										    </div>
										</div>
										<div class="form-group row" style="margin: 0px; margin-bottom: 3px;">
											<label class="col-sm-2 col-form-label" for="endTime" style="display: inline; padding: 0px;">结束时间</label>
											<div class="col-sm-9" style="padding: 0px;">
												<input id="endTime" width="276"/>
												<div class="invalid-feedback"><small>请选择！</small></div>
											</div>
										</div>
									</form>
									<!-- <p id="contract_name" style="padding: 0px; font-size: 16px; margin: 0px;"></p> -->
									<!-- <p id="client_name" style="padding: 0px; font-size: 16px; margin: 0px;"></p> -->
									
									
								</div>
								<div style="text-align: center; width: 100%;" class="clearfix">
									<div class="accordion" id="accordionExample" style="float: left; width: 45%; margin-right: 15px;">
										<div class="card" style="margin: 5px 5px;">
											<div class="card-header" id="headingOne">
											  <h2 class="mb-0">
												<button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
												  Collapsible Group Item #1
												</button>
											  </h2>
											</div>
											<div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
											  <div class="card-body">
												还可以记者杨你到不到其余的。
											  </div>
											</div>
										<div class="card">
											<div class="card-header" id="headingTwo">
											  <h2 class="mb-0">
												<button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
												  Collapsible Group Item #2
												</button>
											  </h2>
											</div>
										
											<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
											  <div class="card-body">
												  ellofnausdgsiy
											  </div>
											</div>
										  </div>
										</div>
								
									</div>
									<textarea style="float: left; width: 40%; border: none; outline: none;" placeholder="请在这里输入意见"></textarea>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-danger" data-dismiss="modal" type="button" id="submit">提交</button>
							<button class="btn btn-secondary" data-dismiss="modal" type="button">关闭</button>
							
							
						</div>
					</div>
				</div>
			</div>
		<nav aria-label="..." style="float: right; margin-top:10px ;">
		  <ul class="pagination">
		    <li class="page-item disabled">
		      <span class="page-link">Previous</span>
		    </li>
		    <li class="page-item"><a class="page-link" href="#">1</a></li>
		    <li class="page-item active" aria-current="page">
		      <span class="page-link">
		        2
		        <span class="sr-only">(current)</span>
		      </span>
		    </li>
		    <li class="page-item"><a class="page-link" href="#">3</a></li>
		    <li class="page-item">
		      <a class="page-link" href="#">Next</a>
		    </li>
		  </ul>
		</nav>
		
	</body>
	<script src="js/nav.js" type="text/javascript"></script>
	<script>
		let beginTime;
		let endTime;
		$(function() {
			 
			$("#show_table tr").click(function(){
				var contract_name = $(this).find("td").eq(0).text();
				var client_name = "张三";
				var start_time = $(this).find("td").eq(1).text();
				var end_time = $(this).find("td").eq(2).text();
				console.log(contract_name);
				
				$("#contract_name").text("合同名称：" + contract_name);
				$("#client_name").text("客户姓名：" + client_name);
				$("#start_time").text("开始时间：" + start_time);
				$("#end_time").text("结束时间：" + end_time);
				$("#customerModal").modal();
				
			});
			
			$("#submit").click(function(){
				if($("#customerModal").find("textarea").eq(0).val() == ""){
					alert("请输入意见");
				}
			})
			var li_number = $("#textarea_card_con .card").length;
			console.log(li_number + "das");
			$("#customerModal").find("textarea").eq(0).attr({"rows": li_number * 2});
			
			
			beginTime = $("#beginTime");
			beginTime.datepicker({
			    uiLibrary: 'bootstrap4',
			    locale: 'zh-cn',
			    format: 'yyyy-mm-dd',
			    close: function (e) {
			        setValid(beginTime, beginTime.value().length !== 0);
			    }
			});
			
			endTime = $("#endTime");
			endTime.datepicker({
			    uiLibrary: 'bootstrap4',
			    locale: 'zh-cn',
			    format: 'yyyy-mm-dd',
			    close: function (e) {
			        setValid(endTime, endTime.value().length !== 0);
			    }
			});
			
			
		})
		
	</script>
</html>
